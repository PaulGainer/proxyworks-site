<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>ProxyWorks 3-D Logo Ring – drag to spin</title>

<style>
/* ───── RESET ───── */
*{margin:0;padding:0;box-sizing:border-box;font:inherit}

/* ───── LAYOUT & COLOURS ───── */
body{
  display:flex;justify-content:center;align-items:center;
  min-height:100vh;
  background:#101f24;               /* brand background */
  overflow:hidden;color:#fff;

  /* side gutters so logos never hit screen edge */
  padding-inline:clamp(24px,8vw,80px);

  /* stop long-press text/image selection while dragging */
  user-select:none;
}

/* ───── CAMERA ───── */
.scene{perspective:1200px;}

/* ───── RING ───── */
.ring{
  position:relative;
  width:320px;height:320px;         /* 2-D footprint */
  transform-style:preserve-3d;
  transform-origin:center;
  cursor:grab;
  touch-action:none;                /* kill native pan flick on mobile */
}
.ring.dragging{cursor:grabbing}

/* ───── PANELS ───── */
.panel{
  position:absolute;inset:0;
  transform-style:preserve-3d;      /* updated every frame */
}
.panel img{
  width:100%;height:100%;object-fit:contain;
  backface-visibility:hidden;
  pointer-events:none;              /* suppress ghost-drag */
  user-drag:none;
}
</style>
</head>

<body>
 <div class="scene">
  <div class="ring" id="ring">
    <!-- duplicate / swap sources as needed -->
    <div class="panel"><img src="images/logo.png" alt="Logo" draggable="false"></div>
    <div class="panel"><img src="images/logo.png" alt="Logo" draggable="false"></div>
    <div class="panel"><img src="images/logo.png" alt="Logo" draggable="false"></div>
    <div class="panel"><img src="images/logo.png" alt="Logo" draggable="false"></div>
    <div class="panel"><img src="images/logo.png" alt="Logo" draggable="false"></div>
    <div class="panel"><img src="images/logo.png" alt="Logo" draggable="false"></div>
    <div class="panel"><img src="images/logo.png" alt="Logo" draggable="false"></div>
    <div class="panel"><img src="images/logo.png" alt="Logo" draggable="false"></div>
  </div>
 </div>

<script>
/********************************************************************
 * Config
 ********************************************************************/
const RADIUS     = 380;  // px from centre to logo plane
const MIN_SCALE  = 0.6;  // size when logo is fully side-on
/********************************************************************/

const ring   = document.getElementById('ring');
const panels = [...ring.children];
const total  = panels.length;
const slice  = 360 / total;

/*------------------------------------------------------------------
 |  Place each panel once; yaw handled by parent transform
 -----------------------------------------------------------------*/
panels.forEach((p,i)=>{
  p.dataset.base = slice*i;          // store static angle for reuse
});

/*------------------------------------------------------------------
 |  Drag state
 -----------------------------------------------------------------*/
let yaw       = 0;          // current global rotation [deg]
let dragging  = false;
let startX    = 0;          // pointer-down X
let startYaw  = 0;          // yaw at pointer-down
let viewportW = window.innerWidth || document.documentElement.clientWidth;

/*------------------------------------------------------------------
 |  Render helper: sets ring rotation, fade & scale per panel
 -----------------------------------------------------------------*/
function render(){
  ring.style.transform = `rotateY(${yaw}deg)`;

  panels.forEach((p)=>{
    const base = Number(p.dataset.base);
    const rel  = (base + yaw) % 360;           // angle facing viewer
    const rad  = rel * Math.PI/180;
    const vis  = Math.pow(Math.max(0, Math.cos(rad)), 2); // cos² fade
    const scl  = MIN_SCALE + (1-MIN_SCALE)*vis;           // scale 0.6-1

    p.style.opacity  = vis;
    p.style.transform=
      `rotateY(${base}deg) translateZ(${RADIUS}px) scale(${scl})`;
  });
}

/*------------------------------------------------------------------
 |  Pointer (mouse/touch/pen)
 -----------------------------------------------------------------*/
ring.addEventListener('pointerdown', e=>{
  dragging   = true;
  startX     = e.clientX;
  startYaw   = yaw;
  viewportW  = window.innerWidth || document.documentElement.clientWidth;
  ring.classList.add('dragging');
  ring.setPointerCapture(e.pointerId);
});

ring.addEventListener('pointermove', e=>{
  if(!dragging) return;
  const dx = e.clientX - startX;           // drag distance in px
  yaw = (startYaw + (dx / viewportW)*360) % 360; // 1 full screen = 360°
  render();
});

function endDrag(){
  if(!dragging) return;
  dragging = false;
  ring.classList.remove('dragging');
}
ring.addEventListener('pointerup',      endDrag);
ring.addEventListener('pointercancel',  endDrag);

/* First draw */
render();
</script>
</body>
</html>
