<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>ProxyWorks 3-D Logo Ring – drag to spin</title>

<style>
/* ============ RESET ============ */
*{margin:0;padding:0;box-sizing:border-box;font:inherit}

/* ==== CENTRING + BORDER PADDING ==== */
body{
  display:flex;justify-content:center;align-items:center;
  min-height:100vh;background:#000;overflow:hidden;color:#fff;

  /* keep ring away from screen edges */
  padding-inline: clamp(24px, 8vw, 80px);

  /* stop text/image selection while dragging */
  user-select:none;
}

/* ===== 3-D SCENE / CAMERA ===== */
.scene{perspective:1200px;}

/* ===== ROTATING RING ===== */
.ring{
  position:relative;
  width:320px;height:320px;
  transform-style:preserve-3d;
  transform-origin:center;
  cursor:grab;                     /* visual cue */
}
.ring.dragging{cursor:grabbing;}   /* while pointer down */

/* ===== INDIVIDUAL PANELS ===== */
.panel{position:absolute;inset:0;transform-style:preserve-3d;}
.panel img{
  width:100%;height:100%;object-fit:contain;
  backface-visibility:hidden;
  pointer-events:none;             /* suppress native img-drag ghost */
  user-drag:none;                  /* Safari (-webkit-user-drag) alias */
}
</style>
</head>

<body>
 <div class="scene">
  <div class="ring" id="ring">
    <!-- duplicate or change sources at will -->
    <div class="panel"><img src="images/logo.png" alt="Logo" draggable="false"></div>
    <div class="panel"><img src="images/logo.png" alt="Logo" draggable="false"></div>
    <div class="panel"><img src="images/logo.png" alt="Logo" draggable="false"></div>
    <div class="panel"><img src="images/logo.png" alt="Logo" draggable="false"></div>
    <div class="panel"><img src="images/logo.png" alt="Logo" draggable="false"></div>
    <div class="panel"><img src="images/logo.png" alt="Logo" draggable="false"></div>
    <div class="panel"><img src="images/logo.png" alt="Logo" draggable="false"></div>
    <div class="panel"><img src="images/logo.png" alt="Logo" draggable="false"></div>
  </div>
 </div>

<script>
/********************************************************************
 * Config
 ********************************************************************/
const RADIUS        = 380;   // px from centre to logo plane
const DEG_PER_PX    = 0.4;   // drag sensitivity – higher = faster
/********************************************************************/

const ring   = document.getElementById('ring');
const panels = [...ring.children];
const total  = panels.length;
const slice  = 360 / total;

/*------------------------------------------------------------------
 |  Static placement: one rotateY + translateZ per panel
 -----------------------------------------------------------------*/
panels.forEach((p,i)=>{
  const a = slice * i;
  p.style.transform = `rotateY(${a}deg) translateZ(${RADIUS}px)`;
});

/*------------------------------------------------------------------
 |  State vars for dragging
 -----------------------------------------------------------------*/
let yaw        = 0;   // current ring rotation in degrees
let startX     = 0;   // pointer-down X
let startYaw   = 0;   // yaw at pointer-down
let dragging   = false;

/*------------------------------------------------------------------
 |  Utility: update transform + fading
 -----------------------------------------------------------------*/
function render(){
  ring.style.transform = `rotateY(${yaw}deg)`;
  panels.forEach((p,i)=>{
    const rel = (slice*i + yaw) % 360;          // facing angle
    const rad = rel * Math.PI/180;
    const op  = Math.pow(Math.max(0, Math.cos(rad)), 2); // cos² fade
    p.style.opacity = op;
  });
}

/*------------------------------------------------------------------
 |  Pointer event handlers (mouse, touch, pen – all in one)
 -----------------------------------------------------------------*/
ring.addEventListener('pointerdown', e=>{
  dragging  = true;
  startX    = e.clientX;
  startYaw  = yaw;
  ring.classList.add('dragging');
  ring.setPointerCapture(e.pointerId);
});
ring.addEventListener('pointermove', e=>{
  if(!dragging) return;
  const dx  = e.clientX - startX;
  yaw = (startYaw + dx * DEG_PER_PX) % 360;
  render();
});
function endDrag(e){
  if(!dragging) return;
  dragging = false;
  ring.classList.remove('dragging');
}
ring.addEventListener('pointerup',   endDrag);
ring.addEventListener('pointercancel', endDrag);

/* Initial draw */
render();
</script>
</body>
</html>
